
# mobai

# 安卓app抓包，使用grequests（gevent和requests合体，用于协程，io非阻塞）。

# redis的set放待爬取的数据（用于分布式）和已爬取的数据（用于去重）。

# 高德地图api获取城市边界，获取边界的最大坐标和最小坐标，将城市大矩形分成几十万坐标，判断坐标是否在城市边界内。

# 将过滤后的坐标放入redis待爬，如果一个坐标获取到附近单车为0，将其500米内的待爬坐标从redis待爬库里删除，减少不必要的request。

# 南京目前有11w左右的摩拜单车，上海22w，北京23w。



# 每间隔200米取一个坐标会导致漏采集 对于自行车非常密集的区域 可能需要间隔几十米甚至几米才能采集全，因为每个json返回包最大只能返回20辆左右
